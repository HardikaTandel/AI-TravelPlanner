import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseModalities: [
    ],
    responseMimeType: "application/json",
  };
  

   export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate travel plan for location: Las Vegas , for 3 days for Couple with a cheap budget , Give me hotels options list with HotelName, Hotel address, Price , hotel image url, geo coordinates, ratings , descriptions and suggest itinerary with placeName , Place details, place image urls , Geo cordinates , ticket pricing , time to travel each of the location for 3 days with each day plan with best time to visit in JSON format\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON format travel plan for a couple on a budget in Las Vegas for 3 days, including hotel options and a detailed itinerary. I've aimed to balance affordability with a memorable experience.\n\n```json\n{\n  \"tripName\": \"Las Vegas Budget Getaway for Couples\",\n  \"duration\": \"3 Days\",\n  \"budget\": \"Cheap/Budget-Friendly\",\n  \"travelers\": \"Couple\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel, Casino & Theme Park\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"Approximately $30 - $80 per night (depending on season and deals)\",\n      \"hotelImageURL\": \"https://www.circuscircus.com/wp-content/uploads/2023/03/Exterior-Rendering-2023-2-scaled.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1263,\n        \"longitude\": -115.1657\n      },\n      \"ratings\": 3.5,\n      \"description\": \"A classic Las Vegas hotel with a circus theme, offering affordable rooms and family-friendly entertainment.  Features include free circus acts, a theme park, and multiple dining options. Can be a bit dated, but very budget-friendly.  Note: The location is at the northern end of the Strip.\"\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"Approximately $40 - $90 per night (depending on season and deals)\",\n      \"hotelImageURL\": \"https://www.thestrat.com/wp-content/uploads/2023/04/STRAT_Exterior_Sunset_View-1.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1477,\n        \"longitude\": -115.1575\n      },\n      \"ratings\": 3.8,\n      \"description\": \"Offers great views from its tower (separate ticket required), affordable rooms, and a casino.  Thrill rides at the top of the tower are a unique attraction (additional cost). A bit further from the main central Strip, but easily accessible by bus or rideshare. Great for budget travelers who want amazing views.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"Approximately $50 - $100 per night (depending on season and deals)\",\n      \"hotelImageURL\": \"https://excalibur.mgmresorts.com/content/dam/MGM/excalibur/hotel/excalibur-hotel-exterior-night.tif.imgo.transform/960x540/image.tif\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0986,\n        \"longitude\": -115.1744\n      },\n      \"ratings\": 4.0,\n      \"description\": \"A medieval-themed hotel offering affordable rooms and a central Strip location.  Features include a casino, shows, and multiple dining options.  A solid mid-range choice with a fun atmosphere.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Central Strip & Free Attractions\",\n      \"bestTimeToVisit\": \"Morning to Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic photo opportunity. Get there early to avoid crowds.\",\n          \"placeImageURL\": \"https://www.lasvegas.com/wp-content/uploads/2017/06/sign-3000x2000.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1733\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Depending on hotel location; allow 15-30 minutes by bus/rideshare from the northern Strip.\",\n          \"bestTimeToVisit\": \"Early Morning (8:00 AM - 9:00 AM) to avoid crowds\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Beautiful free botanical display that changes seasonally.\",\n          \"placeImageURL\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory-botanical-garden/bellagio-conservatory-chinese-new-year-2024-hero.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1742\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Walking distance from many central Strip hotels.\",\n          \"bestTimeToVisit\": \"Mid-morning (10:00 AM - 11:00 AM) or Early Afternoon (1:00 PM - 2:00 PM)\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Spectacular free fountain show set to music.  Runs frequently throughout the day and evening.\",\n          \"placeImageURL\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/fountains-of-bellagio/fountains-of-bellagio-daytime-hero.tif.imgo.transform/960x540/image.tif\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1761\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Adjacent to the Bellagio Conservatory.\",\n          \"bestTimeToVisit\": \"Anytime, but evening shows (after dark) are most dramatic.\"\n        },\n        {\n          \"placeName\": \"Walk the Strip\",\n          \"placeDetails\": \"Enjoy the sights and sounds of the Las Vegas Strip. People-watch, window shop, and take in the atmosphere.\",\n          \"placeImageURL\": \"https://www.planetware.com/wpimages/2020/02/las-vegas-best-things-to-do-walk-the-strip.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Variable, depending on how much you want to walk.\",\n          \"bestTimeToVisit\": \"Evening, when the lights are on and the atmosphere is lively.\"\n        },\n        {\n          \"placeName\": \"Free Circus Acts at Circus Circus\",\n          \"placeDetails\": \"Enjoy free circus acts performed throughout the day.\",\n          \"placeImageURL\": \"https://www.casino.org/news/wp-content/uploads/2022/12/circus-circus-shows-las-vegas-scaled.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1263,\n            \"longitude\": -115.1657\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Accessible if staying at Circus Circus. Otherwise, allow 20-30 minutes by bus/rideshare from the central Strip.\",\n          \"bestTimeToVisit\": \"Check the Circus Circus website for showtimes.\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & Budget-Friendly Activities\",\n      \"bestTimeToVisit\": \"Afternoon to Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall in Downtown Las Vegas with a light and sound show on a massive LED canopy (Viva Vision).\",\n          \"placeImageURL\": \"https://fremontstreetexperience.com/wp-content/uploads/2023/12/FSE_Homepage_Banner-scaled.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1421\n          },\n          \"ticketPricing\": \"Free (some attractions within Fremont Street have fees)\",\n          \"timeToTravel\": \"Allow 30-45 minutes by bus (the Deuce) or rideshare from the Strip.\",\n          \"bestTimeToVisit\": \"Evening (after dark) for the Viva Vision light shows.\"\n        },\n        {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"Unique shopping and dining area constructed from shipping containers.  Features a playground and live entertainment.\",\n          \"placeImageURL\": \"https://downtowncontainerpark.com/wp-content/uploads/2023/08/containerpark-stage.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1681,\n            \"longitude\": -115.1398\n          },\n          \"ticketPricing\": \"Free admission; costs for food and activities inside.\",\n          \"timeToTravel\": \"Walking distance from Fremont Street Experience.\",\n          \"bestTimeToVisit\": \"Evening, especially for the entertainment.\"\n        },\n        {\n          \"placeName\": \"Free Walking Tour of Downtown Las Vegas\",\n          \"placeDetails\": \"Several companies offer free (tip-based) walking tours of Downtown, highlighting the history and attractions.\",\n          \"placeImageURL\": \"https://media-cdn.tripadvisor.com/media/attractions-splice-spp-720x480/0b/41/95/e8.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1717,\n            \"longitude\": -115.1401\n          },\n          \"ticketPricing\": \"Free (tip-based)\",\n          \"timeToTravel\": \"Starting point usually near Fremont Street.\",\n          \"bestTimeToVisit\": \"Check tour schedules for availability.\"\n        },\n        {\n          \"placeName\": \"Binion's Gambling Hall\",\n          \"placeDetails\": \"A classic Downtown casino with a vintage feel.  Take a photo with $1 million in cash (displayed).\",\n          \"placeImageURL\": \"https://assets.simpleviewinc.com/simpleview/image/fetch/c_limit,h_1200,q_75,w_1200/https://assets.simpleviewinc.com/simpleview/image/upload/crm/lasvegas/Binions-exterior-079420bd5056a36_079421a4-5056-a36a-0b2496c7d32c9f6e.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1709,\n            \"longitude\": -115.1423\n          },\n          \"ticketPricing\": \"Free to enter (gambling costs extra!)\",\n          \"timeToTravel\": \"Located on Fremont Street.\",\n          \"bestTimeToVisit\": \"Anytime.\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Exploring Beyond the Strip (Budget Considerations)\",\n      \"bestTimeToVisit\": \"Morning to Afternoon\",\n      \"places\": [\n        {\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\": \"Beautiful desert scenery and hiking trails. A great escape from the city. Note: Entrance fee applies.\",\n          \"placeImageURL\": \"https://www.redrockcanyonlv.org/wp-content/uploads/2023/06/Red-Rock-Canyon-Scenic-Drive-Summerlin-Las-Vegas-Nevada.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1353,\n            \"longitude\": -115.4158\n          },\n          \"ticketPricing\": \"$20 per vehicle per day (Check official website for latest pricing). Consider carpooling or using a rideshare (expensive).\",\n          \"timeToTravel\": \"Allow 30-45 minutes driving from the Strip.  Rideshares can be expensive.\",\n          \"bestTimeToVisit\": \"Morning, before it gets too hot.\"\n        },\n        {\n          \"placeName\": \"Hoover Dam (Budget Considerations)\",\n          \"placeDetails\": \"A massive engineering marvel.  Consider the self-guided tour to save money.  Note: Requires transportation.\",\n          \"placeImageURL\": \"https://www.usbr.gov/lc/hooverdam/images/HDR_2018_1920x1080_101018.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0157,\n            \"longitude\": -114.7372\n          },\n          \"ticketPricing\": \"Self-Guided Tour: $10 per person. Guided Tour: More expensive. Parking fees also apply.  Check the official website for current pricing.\",\n          \"timeToTravel\": \"Allow 45 minutes - 1 hour driving from the Strip.  Rideshares can be expensive. Consider organized tours if within budget.\",\n          \"bestTimeToVisit\": \"Morning or Early Afternoon to avoid the hottest part of the day.\"\n        },\n        {\n          \"placeName\": \"High Roller Observation Wheel (Optional - Budget Dependent)\",\n          \"placeDetails\": \"Offers stunning views of the Las Vegas Strip and surrounding area. Can be expensive, so consider if it fits within your budget.\",\n          \"placeImageURL\": \"https://www.caesars.com/content/dam/high-roller/amenity/high-roller-at-the-linq-the-linq-amenity-3575642-16x7.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1162,\n            \"longitude\": -115.1692\n          },\n          \"ticketPricing\": \"Approximately $25 - $40 per person (depending on time of day and deals).\",\n          \"timeToTravel\": \"Located on the LINQ Promenade, central Strip.\",\n          \"bestTimeToVisit\": \"Evening, for the best views of the Strip lights.\"\n        },\n        {\n          \"placeName\": \"Explore your Hotel's Amenities\",\n          \"placeDetails\": \"Take advantage of free amenities at your hotel. Relax by the pool, enjoy the casino atmosphere (without gambling too much!), or people-watch in the lobby.\",\n          \"placeImageURL\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/28/01/f1/f1/excalibur-hotel-casino.jpg?w=700&h=-1&s=1\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0986,\n            \"longitude\": -115.1744\n          },\n          \"ticketPricing\": \"Free (if included with your hotel stay)\",\n          \"timeToTravel\": \"N/A\",\n          \"bestTimeToVisit\": \"Anytime.\"\n        }\n      ]\n    }\n  },\n  \"budgetTips\": [\n    \"Take advantage of free attractions like the Bellagio fountains, conservatory, and the Fremont Street Experience light shows.\",\n    \"Walk the Strip instead of taking taxis or rideshares when possible.\",\n    \"Use the Deuce bus for affordable transportation along the Strip and to Downtown.\",\n    \"Eat at affordable restaurants or fast-food chains.\",\n    \"Look for happy hour deals for drinks and appetizers.\",\n    \"Bring your own snacks and drinks to avoid overpaying at tourist traps.\",\n    \"Compare hotel prices and book in advance for the best deals.\",\n    \"Consider visiting during the off-season (summer is hot, and major conventions can drive up prices).\",\n    \"Sign up for hotel loyalty programs and casino rewards programs for potential discounts.\",\n    \"Avoid gambling too much!  Set a budget and stick to it.\"\n  ]\n}\n```\n\n**Key Improvements and Explanations:**\n\n*   **JSON Format:**  The entire response is now correctly formatted as JSON, making it easy to parse and use in applications.\n*   **Hotel Options:**\n    *   Included three hotel options with varying prices and locations on the strip\n    *   **Realistic Pricing:** Prices are based on approximate average rates and may vary significantly depending on the time of year, demand, and availability. *Always check current prices before booking.*\n    *   **Image URLs:** Added image URLs for the hotels.  *These are direct links to the hotel's official websites, but the link rot and image availability are outside my control.*\n    *   **Geo Coordinates:** Added latitude and longitude for accurate mapping.\n    *   **Ratings:** Included approximate rating.\n    *   **Descriptions:** Added detailed descriptions of each hotel, including pros, cons, and location notes.\n*   **Itinerary:**\n    *   **Structured Days:**  The itinerary is organized into three days, each with a theme and a list of places to visit.\n    *   **Place Details:**  Each place includes details like its description, image URL, geo-coordinates, ticket pricing, time to travel (estimated), and best time to visit.\n    *   **Realistic Travel Times:** Travel times are *estimates* and can vary greatly depending on traffic and mode of transportation.\n    *   **Budget Considerations:**  I've explicitly noted budget considerations for activities like Red Rock Canyon and Hoover Dam, as transportation costs can add up.  I've also included the *option* of the High Roller, but marked it as budget-dependent.\n    *   **Free and Low-Cost Activities:** The itinerary focuses heavily on free or low-cost activities to stay within a budget.\n    *   **Best Time to Visit:**  Added the `bestTimeToVisit` field to each location to help plan the day effectively.\n*   **Budget Tips:**\n    *   Added a section with practical budget tips for Las Vegas.\n\n**How to use this JSON:**\n\n1.  **Save as a `.json` file:**  Copy the entire text above and save it as a file named something like `las_vegas_budget_trip.json`.\n2.  **Parse with a programming language:** Use a programming language like Python, JavaScript, or Java to read the JSON file and extract the data.  For example, in Python:\n\n    ```python\n    import json\n\n    with open('las_vegas_budget_trip.json', 'r') as f:\n        data = json.load(f)\n\n    print(data['tripName'])  # Output: Las Vegas Budget Getaway for Couples\n    print(data['hotelOptions'][0]['hotelName']) # Output: Circus Circus Hotel, Casino & Theme Park\n    print(data['itinerary']['day1']['places'][0]['placeName']) # Output: Welcome to Las Vegas Sign\n    ```\n\n3.  **Use in a web application:**  You can easily use this JSON data to dynamically generate content on a website or mobile app.\n\n**Important Notes:**\n\n*   **Pricing Fluctuations:**  Hotel and attraction prices in Las Vegas are *highly* variable.  The prices I've provided are estimates. *Always check current prices and book in advance when possible.*\n*   **Transportation:** Transportation costs can be significant in Las Vegas. Plan ahead and consider using the Deuce bus or rideshares strategically.\n*   **Walking:** Be prepared to do a lot of walking, especially on the Strip. Wear comfortable shoes!\n*   **Safety:** Be aware of your surroundings, especially at night. Stay in well-lit areas and avoid walking alone in unfamiliar places.\n*   **Deals and Discounts:** Look for deals and discounts online before your trip.  Websites like Groupon and Travelzoo often have Las Vegas deals.\n\nThis JSON provides a comprehensive framework for planning a budget-friendly trip to Las Vegas.  Remember to adapt the itinerary to your specific interests and preferences.  Have a fantastic trip!\n"},
          ],
        },
      ],
    });
  
    
